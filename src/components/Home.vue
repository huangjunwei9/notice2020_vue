<template> 
<div id="home">
    <div class="header" ref="header">
            <img id="sys-icon" src="../assets/é€šçŸ¥.jpg" />
            <span id="sys-name">{{sysName}}</span>
            <div class="userInfo" type="info" >
                <b>{{user.nickname}}</b>
                <el-select class="selectOption" v-model="chooseRole.roleName"  placeholder="åˆ‡æ¢è§’è‰²ï¼ˆæç¤ºï¼‰">
                    <el-option 
                    v-for="role in roles"
                    :key="role.id"
                    :value="role.id"
                    :label="role.roleName"
                    >
                    </el-option>
                </el-select>   

                <el-button class="quitButton">é€€å‡º</el-button>
            </div>
    </div>

    <div class="asideAndMain">
        <div class="aside" ref="aside">
            <h1 @click="asideMeanControl()" >{{asideTitle}}</h1> 
            
            <!-- éå†ä¸€çº§èœå• -->
            <div id="nav1" v-if="navgationBlean">
            <ul v-for="(parentSysPermission, index1) in parentSysPermissions" :key="index1">
                <!-- å±•ç¤ºä¸€çº§èœå• -->
                <h2 class="mean1" @click="showMean(parentSysPermission, index1)" >
                {{index1 + 1}}. 
                {{parentSysPermission.permissionName}}
                </h2>
                <!-- éå†äºŒçº§èœå• -->
                <ul v-for="(sysPermission, index2) in sysPermissions.data" :key="index2" >
                    <template  v-if="sysPermission.parentId == parentSysPermission.id" >
                        <router-link id="mean2"  :to="sysPermission.url" exact>
                            {{sysPermission.permissionName}}             
                        </router-link>     
                    </template> 
                </ul>   
            </ul>
            </div>
        </div>

        <div class="main" ref="main">
            <h1>ï¼ˆä¸€ï¼‰mainé‡Œçš„è·¯ç”±ç»„ä»¶å±•ç¤º</h1>


            <div>
                <router-view/>   
            </div>
            
            <br/><br/><br/>
           _______________________________________________________________

            <h1>ï¼ˆäºŒï¼‰mainé‡Œçš„è·¯ç”±ç»„ä»¶å±•ç¤º</h1>
            <router-view/>   

            <br><br><br>
           _______________________________________________________________
            
            
            <br><br><br>
            <h1>ï¼ˆä¸‰ï¼‰mainé‡Œçš„è‡ªå¸¦å†…å®¹å±•ç¤º</h1>

            <p>ä½ å¥½ï¼Œä¸è¦çœ‹Home2.vueäº†ï¼Œå®ƒè¢«ä½œåºŸ</p>
            <p>æˆ‘å¥½</p>

            <el-popover
                placement="bottom"
                title="æ ‡é¢˜"
                width="200"
                trigger="click"
                content="è¿™æ˜¯ä¸€æ®µå†…å®¹,è¿™æ˜¯ä¸€æ®µå†…å®¹,è¿™æ˜¯ä¸€æ®µå†…å®¹,è¿™æ˜¯ä¸€æ®µå†…å®¹ã€‚">
                <el-button slot="reference">click æ¿€æ´»</el-button>
            </el-popover>


            <el-button type="text" @click="dialogTableVisible = true">æ‰“å¼€åµŒå¥—è¡¨æ ¼çš„ Dialog</el-button>

            <el-dialog title="æ”¶è´§åœ°å€" :visible.sync="dialogTableVisible">
                <el-table :data="gridData">
                    <el-table-column property="date" label="æ—¥æœŸ" width="150"></el-table-column>
                    <el-table-column property="name" label="å§“å" width="200"></el-table-column>
                    <el-table-column property="address" label="åœ°å€"></el-table-column>
                </el-table>
            </el-dialog>



            <p>å¤§å®¶å¥½èœé¸Ÿæ•™ç¨‹ - å­¦çš„ä¸ä»…æ˜¯æŠ€æœ¯ï¼Œ
            </p>
            <br>
            <br>
            <br>
            <br>
            <br>
            <p>å¤§å®¶å¥½èœé¸Ÿæ•™ç¨‹ - å­¦çš„ä¸ä»…æ˜¯æŠ€æœ¯
            </p>
            <br>
            <br>
            <br>
            <br>
            <br>
            <p>å¤§å®¶å¥½èœé¸Ÿæ•™ç¨‹ - å­¦çš„ä¸ä»…æ˜¯æŠ€æœ¯
            </p>
            <br>
            <br>
            <br>
            <br>
            <br>
            <p>å¤§å®¶å¥½èœé¸Ÿæ•™ç¨‹ - å­¦çš„ä¸ä»…æ˜¯æŠ€æœ¯
            </p>
            <br>
            <br>
            <br>
            <br>
            <br>
            
        </div> 
    </div>
   

    <!-- <div>
        
    </div> -->

    

</div>
</template>

<script>
</script>

<script>
export default {
  name: "home",
  data() {
    return {
        gridData: [{
          date: '2016-05-02',
          name: 'ç‹å°è™',
          address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„'
        }, {
          date: '2016-05-04',
          name: 'ç‹å°è™',
          address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„'
        }, {
          date: '2016-05-01',
          name: 'ç‹å°è™',
          address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„'
        }, {
          date: '2016-05-03',
          name: 'ç‹å°è™',
          address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„'
        }, {
          date: '2016-05-03',
          name: 'ç‹å°è™',
          address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„'
        }, {
          date: '2016-05-03',
          name: 'ç‹å°è™',
          address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„'
        }, {
          date: '2016-05-03',
          name: 'ç‹å°è™',
          address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„'
        }, {
          date: '2016-05-03',
          name: 'ç‹å°è™',
          address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„'
        }, {
          date: '2016-05-03',
          name: 'ç‹å°è™',
          address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„'
        }],

        dialogTableVisible: false,
        dialogFormVisible: false,
        form: {
          name: '',
          region: '',
          date1: '',
          date2: '',
          delivery: false,
          type: [],
          resource: '',
          desc: ''
        },
        formLabelWidth: '120px',



        user:{
            nickname: "ä¸€åªå¤§ç™½é¼ 1ğŸ­ä¸€åªå¤§ç™½é¼ 2ğŸ­ä¸€åªå¤§ç™½é¼ 3ğŸ­"//æ˜µç§°

        },
        roles:[
            {
                "id": 1,
                "roleName": "äº‹åŠ¡ç®¡ç†è€…ï¼ˆå°ç™½é¼ ç®¡ç†è¯•å…»å‘˜1å·ï¼‰",
                "createTime": null,
                "creatorId": null,
                "updateTime": null,
                "updatorId": null,
                "deleteFlg": null
            },
            {
                "id": 2,
                "roleName": "äº‹åŠ¡åˆ›å»ºè€…ï¼ˆå¤§ç™½é¼ ç®¡ç†è¯•å…»å‘˜1å·ï¼‰",
                "createTime": null,
                "creatorId": null,
                "updateTime": null,
                "updatorId": null,
                "deleteFlg": null
            }
        ],
        chooseRole:{
            "id": 0,
            "roleName": "",
        },
        sysName:'é€šçŸ¥ç³»ç»Ÿ',
        asideTitle:"ç‚¹è¿™æ”¶èµ·èœå•",
        navgationBlean: true,
        isActive: true,
        parentSysPermissions: [
            {
                "id": 9,
                "permissionName": "ç”¨æˆ·ç®¡ç†",
                "url": null,
                "level": 1,
                "parentId": "9",
                "createTime": null,
                "creatorId": null,
                "updateTime": null,
                "updatorId": null,
                "deleteFlg": null,
                "needShow":true,
            },
            {
                "id": 7,
                "permissionName": "äº‹åŠ¡ç®¡ç†",
                "url": null,
                "level": 1,
                "parentId": "0",
                "createTime": null,
                "creatorId": null,
                "updateTime": null,
                "updatorId": null,
                "deleteFlg": null,
                "needShow":true,
            },
            {
                "id": 10,
                "permissionName": "æ ‡ç­¾ç®¡ç†",
                "url": null,
                "level": 1,
                "parentId": "0",
                "createTime": null,
                "creatorId": null,
                "updateTime": null,
                "updatorId": null,
                "deleteFlg": null,
                "needShow":true,
            },
            {
                "id": 8,
                "permissionName": "æƒé™ç®¡ç†",
                "url": null,
                "level": 1,
                "parentId": "0",
                "createTime": null,
                "creatorId": null,
                "updateTime": null,
                "updatorId": null,
                "deleteFlg": null,
                "needShow":true,
            }
        ],
        sysPermissions:{
          "code": 200,
          "msg": "",
          "data": [
              {
            "id": 1,
            "permissionName": "åˆ›å»ºäº‹åŠ¡",
            "url": "/thing/create",
            "level": 2,
            "parentId": "7",
            "createTime": null,
            "creatorId": null,
            "updateTime": null,
            "updatorId": null,
            "deleteFlg": null
            },
            {
                "id": 2,
                "permissionName": "è‡ªå·±åˆ›å»ºçš„äº‹åŠ¡",
                "url": "/thing/myCreateList",
                "level": 2,
                "parentId": "7",
                "createTime": null,
                "creatorId": null,
                "updateTime": null,
                "updatorId": null,
                "deleteFlg": null
            },
            {
                "id": 3,
                "permissionName": "æ¥æ”¶åˆ°çš„äº‹åŠ¡",
                "url": "/thing/myReceiveList",
                "level": 2,
                "parentId": "7",
                "createTime": null,
                "creatorId": null,
                "updateTime": null,
                "updatorId": null,
                "deleteFlg": null
            },
            {
                "id": 4,
                "permissionName": "åˆ›å»ºè§’è‰²",
                "url": "/permission/createRole",
                "level": 2,
                "parentId": "8",
                "createTime": null,
                "creatorId": null,
                "updateTime": null,
                "updatorId": null,
                "deleteFlg": null
            },
            {
                "id": 5,
                "permissionName": "åˆ›å»ºç”¨æˆ·",
                "url": "/permission/createUser",
                "level": 2,
                "parentId": "9",
                "createTime": null,
                "creatorId": null,
                "updateTime": null,
                "updatorId": null,
                "deleteFlg": null
            },
            {
                "id": 6,
                "permissionName": "åˆ›å»ºæƒé™",
                "url": "/permission/createPermission",
                "level": 2,
                "parentId": "8",
                "createTime": null,
                "creatorId": null,
                "updateTime": null,
                "updatorId": null,
                "deleteFlg": null
            },
            {
                "id": 11,
                "permissionName": "æˆ‘çš„æ ‡ç­¾",
                "url": "/tag/myCreateList",
                "level": 2,
                "parentId": "10",
                "createTime": null,
                "creatorId": null,
                "updateTime": null,
                "updatorId": null,
                "deleteFlg": null
            }
          ]
        },
    };
  },
  computed:{
    showTest:{ 
      get(){},
      set(){} 
    }
  },
  methods:{
    // å±•å¼€/æ”¶èµ·æŸä¸€çº§èœå•
    showMean(parentSysPermission, index1){
      this.parentSysPermissions[index1].needShow = !parentSysPermission.needShow
      console.log(parentSysPermission.needShow)
    },
    // å±•å¼€/æ”¶èµ·å·¦ä¾§èœå•
    asideMeanControl(){
        console.log("æ”¹å˜èœå•æ ");
        this.navgationBlean = !this.navgationBlean;
        console.log(this.navgationBlean)
        if(this.navgationBlean == true){
            this.$refs.aside.style.width = '15%';
            this.$refs.main.style.width = '85%';
            this.$refs.main.style.margin = '0 0 0 15%'; 
            this.$refs.aside.style.overflow = "scroll";
            this.asideTitle = 'ç‚¹è¿™æ”¶èµ·èœå•'
        }else{
            this.$refs.aside.style.width = '2%';
            this.$refs.main.style.width = '98%';
            this.$refs.main.style.margin = '0 0 0 2%'; 
            this.$refs.aside.style.overflow = "hidden";
            this.asideTitle = 'ç‚¹è¿™å±•å¼€èœå•'
        }
        
    }
  },
};
</script>


<style scope>
/* éšè—å³ä¾§htmlè‡ªå¸¦æ»šåŠ¨æ¡ */
html,body{
    width: 100%;
    height: 100%;
    margin: 0px;
    overflow-y: hidden
}
#home{
    height: 100%;
    box-sizing: border-box;
}

/**********  å¤´éƒ¨ **************/
/* æ»šåŠ¨æ¡æ»šåŠ¨æ—¶ï¼Œå¤´éƒ¨å›ºå®š */
.header{
    background-color: #303643;
    color: orange;
    height: 50px;
    width: 100%;
    margin: 0px 0px 0px 0px;
    position: fixed;
}
/* ç³»ç»Ÿå›¾æ ‡ */
#sys-icon{
    width: 50px;
    display: inline-block;
}
/* â€œé€šçŸ¥ç®¡ç†ç³»ç»Ÿâ€ */
#sys-name{
    color: orange;
    font-size: 40px;
    position: relative;
    top: -10px;
    margin: 0 0 0 0px;
    display: inline-block;
}
/* ç”¨æˆ·è´¦å·ä¿¡æ¯divï¼šé å³ï¼Œå†…éƒ¨å…ƒç´ å±…ä¸€è¡Œ */
.userInfo{
    color:green;
    letter-spacing: 2px; /* å­—ä½“é—´è· */
    position: absolute;
    right: 0px;
    top: 7px;
    display: inline-flex;
}
.userInfo b{
    position: relative;
    top: 7px;
}
/* åˆ‡æ¢è§’è‰²divï¼šåˆ‡æ¢è§’è‰²æŒ‰é’®+ä¸‹æ‹‰è§’è‰²åˆ—è¡¨ */
.selectOption{
    width: auto;
    margin: 0px 2px ;
}
/* ä¸‹æ‹‰å­—ä½“å’Œé€‰ä¸­å­—ä½“çš„é¢œè‰² */
.el-input--suffix .el-input__inner {
    background:rgb(109, 64, 46);
    color: #409EFF;
}
.el-select-dropdown__item{
    color: green;
}
/* é€€å‡ºæŒ‰é’® */
.quitButton{
    background: khaki;
    color:green;
    letter-spacing: 1px; /* å­—ä½“é—´è· */
    width: fit-content;
    font-size: large;
    padding: 2px;
}


/**********  èœå•æ å’Œmain **************/
.asideAndMain{
    display: flex;
    width: 100%;
    height: 100%;
    padding: 50px 0px 0px 0px;
}
/********** èœå•æ  **************/
.aside{
    background-color: #444244;
    color: rgb(146, 65, 65);
    width: 15%;
    height: 100%;
    margin: 0px 0px 0px 0px; 
    position: fixed;
    overflow: scroll;
}
/* â€œç‚¹è¿™æ”¶é½èœå•â€å››ä¸ªå­— */
.aside h1{
  font-size: 22px;
  color: rgb(158, 197, 126);
  display:block;
}
/* ä¸€çº§èœå• */
.mean1{
  margin: 0px 0px 0px 0px;
  font-size: 17px;
  color: rgb(222, 233, 192);  
}
/* äºŒçº§èœå• */
#mean2{
  font-size: 15px;
  text-decoration: none;
  display:block;
}
:link {color: white}
a:visited {color: #00FF00}
a:hover {color: #FF00FF}
a:active {color: #0000FF}
/* å»æ‰ä¸‹åˆ’çº¿ */
.router-link-active {
  text-decoration: none;
}



/*******************main ****************/
.main{
    background-color: #DCE0E4;
    color: #333;
    width: 85%;
    height: 100%;
    margin: 0 0 0 15%;
    overflow: scroll;
}

</style>

